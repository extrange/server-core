services:
  calibre-web:
    container_name: calibre-web
    image: linuxserver/calibre-web@sha256:20e584b010124c27667b8d5cbbfb74e9e673c6f43124b53c0fe2d9459ce3f4ed
    restart: always
    environment:
      PUID: 1000
      PGID: 1000
      TZ: Asia/Singapore
      DOCKER_MODS: linuxserver/mods:universal-calibre # Enable ebook conversion
    volumes:
      - /mnt/storage/Books:/library
      - ./data:/config
    networks:
      - calibre-web
    labels:
      traefik.enable: true
      traefik.docker.network: core_calibre-web
      homepage.group: Services
      homepage.name: Calibre Web
      homepage.icon: calibre-web
      homepage.href: &url https://calibre-web.nicholaslyz.com
      homepage.siteMonitor: *url
      homepage.widget.type: calibreweb
      homepage.widget.url: *url
      homepage.widget.username: ${USERNAME}
      homepage.widget.password: ${PASSWORD}

networks:
  calibre-web:
