tcp:
  services:
    chanel-server:
      loadBalancer:
        servers:
          - address: 192.168.1.135:443
  routers:
    chanel-server:
      rule: HostSNIRegexp(`^.+\.chanelng\.com$`) || HostSNI(`chanelng.com`)
      service: chanel-server
      tls:
        passthrough: true

http:
  middlewares:
    check-superuser:
      forwardAuth:
        address: http://backend:8000/account/check-superuser/
    no-index:
      headers:
        customResponseHeaders:
          X-Robots-Tag: none

  routers:
    dashboard:
      rule: Host(`traefik.internal.nicholaslyz.com`)
      entrypoints:
        - tailscale
      service: api@internal

  # Only available via the file provider
  # https://github.com/traefik/traefik/issues/7893
  serversTransports:
    unifi:
      insecureSkipVerify: true
