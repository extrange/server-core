services:
  jellyfin:
    container_name: jellyfin
    image: jellyfin/jellyfin@sha256:d43a8878689311f841a1967f899f54db56877bf6b426fd7ff870ac1a6fd1dce4
    restart: always
    user: 1000:1000
    volumes:
      - ./data/config:/config
      - ./data/cache:/cache
      - /mnt/storage/Videos:/media
    environment:
      JELLYFIN_PublishedServerUrl: https://jellyfin.nicholaslyz.com
    networks:
      - jellyfin
    labels:
      traefik.enable: true
      traefik.docker.network: core_jellyfin
      homepage.group: Services
      homepage.name: Jellyfin
      homepage.icon: jellyfin
      homepage.href: &url https://jellyfin.nicholaslyz.com
      homepage.siteMonitor: *url
      homepage.widget.type: jellyfin
      homepage.widget.url: *url
      homepage.widget.key: ${HOMEPAGE_KEY}
      homepage.widget.enableBlocks: true # optional, defaults to false
      homepage.widget.enableNowPlaying: false

networks:
  jellyfin:
